/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _video = __webpack_require__(1);\n\nvar _video2 = _interopRequireDefault(_video);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _PRIVATE = new WeakMap();\n\nvar OBJECT_URL_TYPE = 'objectURL';\n\nvar VideoToThumb = function () {\n  /**\n   * @param {*} resource\n   */\n  function VideoToThumb(resource) {\n    var _this = this;\n\n    _classCallCheck(this, VideoToThumb);\n\n    this.resource = resource;\n    _PRIVATE.set(this, {\n      resource: resource,\n      prepareURL: function prepareURL() {\n        if (Blob && _PRIVATE.get(_this).resource instanceof Blob) {\n          _PRIVATE.get(_this).resource = URL.createObjectURL(resource);\n        } else if (typeof _this.resource !== 'string') {\n          throw new Error('Resource reference was expecting whether a Blob/File Object or a string reference to a valid video URL');\n        }\n      },\n      __settings: {\n        xy: [0, 0],\n        size: [320, 240],\n        returnType: OBJECT_URL_TYPE,\n        skips: [0]\n      }\n    });\n  }\n\n  _createClass(VideoToThumb, [{\n    key: 'load',\n    value: function load() {\n      _PRIVATE.get(this).prepareURL();\n      return this;\n    }\n\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'xy',\n    value: function xy() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];\n\n      _PRIVATE.get(this).__settings.xy = val;\n      return this;\n    }\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'size',\n    value: function size() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [320, 240];\n\n      _PRIVATE.get(this).__settings.size = val;\n      return this;\n    }\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'type',\n    value: function type() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : OBJECT_URL_TYPE;\n\n      _PRIVATE.get(this).__settings.returnType = val;\n      return this;\n    }\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'positions',\n    value: function positions() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0];\n\n      _PRIVATE.get(this).__settings.skips = val;\n      return this;\n    }\n    /**\n     * @param {*} successCB\n     * @param {*} errorCB\n     */\n\n  }, {\n    key: 'done',\n    value: function done(successCB, errorCB) {\n      var _this2 = this;\n\n      var positions = [].concat(_toConsumableArray(_PRIVATE.get(this).__settings.skips));\n      var video = new _video2.default(_PRIVATE.get(this).resource);\n      try {\n        video.initialize(_PRIVATE.get(this).__settings).then(function () {\n          if (!positions.length) return successCB([]);\n          var reverseOrder = function reverseOrder() {\n            positions.shift();\n            if (!positions.length) {\n              return successCB(video.thumbs.map(function (thumb) {\n                return _PRIVATE.get(_this2).__settings.returnType === OBJECT_URL_TYPE ? URL.createObjectURL(thumb) : thumb;\n              }));\n            }\n            return video.getSnaps(positions[0]).then(reverseOrder);\n          };\n          return video.getSnaps(positions[0]).then(reverseOrder);\n        }).catch(errorCB);\n      } catch (err) {\n        errorCB(err);\n      }\n      return this;\n    }\n  }]);\n\n  return VideoToThumb;\n}();\n\nwindow.VideoToThumb = VideoToThumb;\n\nexports.default = VideoToThumb;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvVmlkZW9Ub1RodW1iLmpzPzcyMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZGVvIGZyb20gJy4vdmlkZW8nO1xuXG5jb25zdCBfUFJJVkFURSA9IG5ldyBXZWFrTWFwKCk7XG5cbmNvbnN0IE9CSkVDVF9VUkxfVFlQRSA9ICdvYmplY3RVUkwnO1xuXG5jbGFzcyBWaWRlb1RvVGh1bWIge1xuICAvKipcbiAgICogQHBhcmFtIHsqfSByZXNvdXJjZVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVzb3VyY2UpIHtcbiAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgX1BSSVZBVEUuc2V0KHRoaXMsIHtcbiAgICAgIHJlc291cmNlLFxuICAgICAgcHJlcGFyZVVSTDogKCkgPT4ge1xuICAgICAgICBpZiAoQmxvYiAmJiBfUFJJVkFURS5nZXQodGhpcykucmVzb3VyY2UgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgX1BSSVZBVEUuZ2V0KHRoaXMpLnJlc291cmNlID0gVVJMLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMucmVzb3VyY2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSByZWZlcmVuY2Ugd2FzIGV4cGVjdGluZyB3aGV0aGVyIGEgQmxvYi9GaWxlIE9iamVjdCBvciBhIHN0cmluZyByZWZlcmVuY2UgdG8gYSB2YWxpZCB2aWRlbyBVUkwnKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9fc2V0dGluZ3M6IHtcbiAgICAgICAgeHk6IFswLCAwXSxcbiAgICAgICAgc2l6ZTogWzMyMCwgMjQwXSxcbiAgICAgICAgcmV0dXJuVHlwZTogT0JKRUNUX1VSTF9UWVBFLFxuICAgICAgICBza2lwczogWzBdLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWQoKSB7XG4gICAgX1BSSVZBVEUuZ2V0KHRoaXMpLnByZXBhcmVVUkwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbFxuICAgKi9cbiAgeHkodmFsID0gWzAsIDBdKSB7XG4gICAgX1BSSVZBVEUuZ2V0KHRoaXMpLl9fc2V0dGluZ3MueHkgPSB2YWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gdmFsXG4gICAqL1xuICBzaXplKHZhbCA9IFszMjAsIDI0MF0pIHtcbiAgICBfUFJJVkFURS5nZXQodGhpcykuX19zZXR0aW5ncy5zaXplID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbFxuICAgKi9cbiAgdHlwZSh2YWwgPSBPQkpFQ1RfVVJMX1RZUEUpIHtcbiAgICBfUFJJVkFURS5nZXQodGhpcykuX19zZXR0aW5ncy5yZXR1cm5UeXBlID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbFxuICAgKi9cbiAgcG9zaXRpb25zKHZhbCA9IFswXSkge1xuICAgIF9QUklWQVRFLmdldCh0aGlzKS5fX3NldHRpbmdzLnNraXBzID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHN1Y2Nlc3NDQlxuICAgKiBAcGFyYW0geyp9IGVycm9yQ0JcbiAgICovXG4gIGRvbmUoc3VjY2Vzc0NCLCBlcnJvckNCKSB7XG4gICAgY29uc3QgcG9zaXRpb25zID0gWy4uLl9QUklWQVRFLmdldCh0aGlzKS5fX3NldHRpbmdzLnNraXBzXTtcbiAgICBjb25zdCB2aWRlbyA9IG5ldyBWaWRlbyhfUFJJVkFURS5nZXQodGhpcykucmVzb3VyY2UpO1xuICAgIHRyeSB7XG4gICAgICB2aWRlb1xuICAgICAgICAuaW5pdGlhbGl6ZShfUFJJVkFURS5nZXQodGhpcykuX19zZXR0aW5ncylcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICghcG9zaXRpb25zLmxlbmd0aCkgcmV0dXJuIHN1Y2Nlc3NDQihbXSk7XG4gICAgICAgICAgY29uc3QgcmV2ZXJzZU9yZGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgcG9zaXRpb25zLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NDQih2aWRlby50aHVtYnMubWFwKHRodW1iID0+IChfUFJJVkFURS5nZXQodGhpcylcbiAgICAgICAgICAgICAgICAuX19zZXR0aW5ncy5yZXR1cm5UeXBlID09PSBPQkpFQ1RfVVJMX1RZUEUgP1xuICAgICAgICAgICAgICAgIFVSTC5jcmVhdGVPYmplY3RVUkwodGh1bWIpIDogdGh1bWIpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmlkZW8uZ2V0U25hcHMocG9zaXRpb25zWzBdKVxuICAgICAgICAgICAgICAudGhlbihyZXZlcnNlT3JkZXIpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHZpZGVvLmdldFNuYXBzKHBvc2l0aW9uc1swXSkudGhlbihyZXZlcnNlT3JkZXIpO1xuICAgICAgICB9KS5jYXRjaChlcnJvckNCKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yQ0IoZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxud2luZG93LlZpZGVvVG9UaHVtYiA9IFZpZGVvVG9UaHVtYjtcblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9Ub1RodW1iO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9WaWRlb1RvVGh1bWIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFUQTtBQWdCQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _canvas = __webpack_require__(2);\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Video = function () {\n  function Video(uri) {\n    _classCallCheck(this, Video);\n\n    this.node = document.createElement('video');\n    this.node.setAttribute('src', uri);\n    this.node.setAttribute('muted', true);\n    this.node.setAttribute('controls', true);\n    this.node.style.display = 'none';\n    this.node.width = 320;\n    this.thumbs = [];\n  }\n\n  _createClass(Video, [{\n    key: 'initialize',\n    value: function initialize(configs) {\n      var _this = this;\n\n      var _configs$size = _slicedToArray(configs.size, 2);\n\n      this.node.width = _configs$size[0];\n      this.node.height = _configs$size[1];\n\n      this.configs = configs;\n      return new Promise(function (resolve, reject) {\n        var MediaError = function MediaError(event) {\n          var err = {\n            type: 'media_' + event.type,\n            error: event\n          };\n          reject(err);\n        };\n\n        _this.node.addEventListener('error', MediaError);\n        _this.node.addEventListener('abort', MediaError);\n\n        _this.node.addEventListener('canplaythrough', function () {\n          _this.node.removeEventListener('error', MediaError);\n          _this.node.removeEventListener('abort', MediaError);\n          resolve();\n        });\n      });\n    }\n  }, {\n    key: 'getSnaps',\n    value: function getSnaps() {\n      var _this2 = this;\n\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      return new Promise(function (resolve, reject) {\n        if (position > _this2.node.duration) return resolve();\n        var onMediaError = function onMediaError(event) {\n          var err = {\n            type: 'media_' + event.type,\n            error: event\n          };\n          reject(err);\n        };\n        _this2.node.addEventListener('suspend', onMediaError);\n        _this2.node.addEventListener('abort', onMediaError);\n        var onSeeked = function onSeeked() {\n          _this2.node.removeEventListener('suspend', onMediaError);\n          _this2.node.removeEventListener('abort', onMediaError);\n          _this2.node.removeEventListener('seeked', onSeeked);\n          _canvas2.default.capture(_this2.node, _this2.configs).then(function (data) {\n            _this2.thumbs.push(data);\n            resolve();\n          }).catch(reject);\n        };\n        _this2.node.addEventListener('seeked', onSeeked);\n        _this2.node.currentTime = Number(position);\n        return null;\n      });\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      return this.node.remove();\n    }\n  }]);\n\n  return Video;\n}();\n\nexports.default = Video;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdmlkZW8uanM/YjIwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FudmFzIGZyb20gJy4vY2FudmFzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlkZW8ge1xuICBjb25zdHJ1Y3Rvcih1cmkpIHtcbiAgICB0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVyaSk7XG4gICAgdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCB0cnVlKTtcbiAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCdjb250cm9scycsIHRydWUpO1xuICAgIHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMubm9kZS53aWR0aCA9IDMyMDtcbiAgICB0aGlzLnRodW1icyA9IFtdO1xuICB9XG5cbiAgaW5pdGlhbGl6ZShjb25maWdzKSB7XG4gICAgW3RoaXMubm9kZS53aWR0aCwgdGhpcy5ub2RlLmhlaWdodF0gPSBjb25maWdzLnNpemU7XG4gICAgdGhpcy5jb25maWdzID0gY29uZmlncztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgTWVkaWFFcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBlcnIgPSB7XG4gICAgICAgICAgdHlwZTogYG1lZGlhXyR7ZXZlbnQudHlwZX1gLFxuICAgICAgICAgIGVycm9yOiBldmVudCxcbiAgICAgICAgfTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBNZWRpYUVycm9yKTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIE1lZGlhRXJyb3IpO1xuXG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIE1lZGlhRXJyb3IpO1xuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBNZWRpYUVycm9yKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRTbmFwcyhwb3NpdGlvbiA9IDEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9uID4gdGhpcy5ub2RlLmR1cmF0aW9uKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgY29uc3Qgb25NZWRpYUVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVyciA9IHtcbiAgICAgICAgICB0eXBlOiBgbWVkaWFfJHtldmVudC50eXBlfWAsXG4gICAgICAgICAgZXJyb3I6IGV2ZW50LFxuICAgICAgICB9O1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH07XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignc3VzcGVuZCcsIG9uTWVkaWFFcnJvcik7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbk1lZGlhRXJyb3IpO1xuICAgICAgY29uc3Qgb25TZWVrZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdXNwZW5kJywgb25NZWRpYUVycm9yKTtcbiAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25NZWRpYUVycm9yKTtcbiAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsIG9uU2Vla2VkKTtcbiAgICAgICAgQ2FudmFzLmNhcHR1cmUodGhpcy5ub2RlLCB0aGlzLmNvbmZpZ3MpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICB0aGlzLnRodW1icy5wdXNoKGRhdGEpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH07XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgb25TZWVrZWQpO1xuICAgICAgdGhpcy5ub2RlLmN1cnJlbnRUaW1lID0gTnVtYmVyKHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlLnJlbW92ZSgpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3ZpZGVvLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQS9EQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar singleton = Symbol();\nvar singletonEnforcer = Symbol();\n\nvar OBJECT_URL_TYPE = 'objectURL';\nvar DATA_URL_TYPE = 'base64';\n\nvar Canvas = function () {\n  function Canvas(enforcer) {\n    _classCallCheck(this, Canvas);\n\n    if (enforcer !== singletonEnforcer) throw new Error('Cannot construct singleton');\n    this.node = document.createElement('canvas');\n  }\n\n  _createClass(Canvas, [{\n    key: 'capture',\n    value: function capture(videoNode, configs) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var w = configs.size[0];\n        var h = configs.size[1];\n        var x = configs.xy[0];\n        var y = configs.xy[1];\n        _this.node.width = w;\n        _this.node.height = h;\n        _this.node.getContext('2d').drawImage(videoNode, x, y, w, h);\n        if (configs.returnType === OBJECT_URL_TYPE) {\n          _this.node.toBlob(function (blob) {\n            return resolve(blob);\n          });\n        } else if (configs.returnType === DATA_URL_TYPE) {\n          resolve(_this.node.toDataURL());\n        } else {\n          var err = {\n            type: 'Canvas_Error',\n            message: 'type must be between ' + OBJECT_URL_TYPE + ' or ' + DATA_URL_TYPE + ' but found ' + configs.returnType\n          };\n          reject(err);\n        }\n      });\n    }\n  }], [{\n    key: 'instance',\n    get: function get() {\n      if (!this[singleton]) {\n        this[singleton] = new Canvas(singletonEnforcer);\n      }\n      return this[singleton];\n    }\n  }]);\n\n  return Canvas;\n}();\n\nexports.default = Canvas.instance;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY2FudmFzLmpzPzYxNGIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2luZ2xldG9uID0gU3ltYm9sKCk7XG5jb25zdCBzaW5nbGV0b25FbmZvcmNlciA9IFN5bWJvbCgpO1xuXG5jb25zdCBPQkpFQ1RfVVJMX1RZUEUgPSAnb2JqZWN0VVJMJztcbmNvbnN0IERBVEFfVVJMX1RZUEUgPSAnYmFzZTY0JztcblxuY2xhc3MgQ2FudmFzIHtcbiAgY29uc3RydWN0b3IoZW5mb3JjZXIpIHtcbiAgICBpZiAoZW5mb3JjZXIgIT09IHNpbmdsZXRvbkVuZm9yY2VyKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3Qgc2luZ2xldG9uJyk7XG4gICAgdGhpcy5ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgIGlmICghdGhpc1tzaW5nbGV0b25dKSB7XG4gICAgICB0aGlzW3NpbmdsZXRvbl0gPSBuZXcgQ2FudmFzKHNpbmdsZXRvbkVuZm9yY2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbc2luZ2xldG9uXTtcbiAgfVxuXG4gIGNhcHR1cmUodmlkZW9Ob2RlLCBjb25maWdzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHcgPSBjb25maWdzLnNpemVbMF07XG4gICAgICBjb25zdCBoID0gY29uZmlncy5zaXplWzFdO1xuICAgICAgY29uc3QgeCA9IGNvbmZpZ3MueHlbMF07XG4gICAgICBjb25zdCB5ID0gY29uZmlncy54eVsxXTtcbiAgICAgIHRoaXMubm9kZS53aWR0aCA9IHc7XG4gICAgICB0aGlzLm5vZGUuaGVpZ2h0ID0gaDtcbiAgICAgIHRoaXMubm9kZS5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh2aWRlb05vZGUsIHgsIHksIHcsIGgpO1xuICAgICAgaWYgKGNvbmZpZ3MucmV0dXJuVHlwZSA9PT0gT0JKRUNUX1VSTF9UWVBFKSB7XG4gICAgICAgIHRoaXMubm9kZS50b0Jsb2IoYmxvYiA9PiByZXNvbHZlKGJsb2IpKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlncy5yZXR1cm5UeXBlID09PSBEQVRBX1VSTF9UWVBFKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5ub2RlLnRvRGF0YVVSTCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVyciA9IHtcbiAgICAgICAgICB0eXBlOiAnQ2FudmFzX0Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiBgdHlwZSBtdXN0IGJlIGJldHdlZW4gJHtPQkpFQ1RfVVJMX1RZUEV9IG9yICR7REFUQV9VUkxfVFlQRX0gYnV0IGZvdW5kICR7Y29uZmlncy5yZXR1cm5UeXBlfWAsXG4gICAgICAgIH07XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhcy5pbnN0YW5jZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvY2FudmFzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBMEJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);