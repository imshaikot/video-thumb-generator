!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VideoToThumb=e():n.VideoToThumb=e()}("undefined"!=typeof self?self:this,function(){return function(n){function e(g){if(t[g])return t[g].exports;var r=t[g]={i:g,l:!1,exports:{}};return n[g].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t={};return e.m=n,e.c=t,e.d=function(n,t,g){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:g})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=1)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(2);\n\nvar _es6ObjectAssign = __webpack_require__(4);\n\nvar _video = __webpack_require__(5);\n\nvar _video2 = _interopRequireDefault(_video);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _PRIVATE = new WeakMap();\n(0, _es6ObjectAssign.polyfill)();\n\nvar OBJECT_URL_TYPE = 'objectURL';\n\nvar VideoToThumb = function () {\n  /**\n   * @param {*} resource\n   */\n  function VideoToThumb(resource) {\n    var _this = this;\n\n    _classCallCheck(this, VideoToThumb);\n\n    this.resource = resource;\n    _PRIVATE.set(this, {\n      resource: resource,\n      prepareURL: function prepareURL() {\n        if (Blob && _PRIVATE.get(_this).resource instanceof Blob) {\n          _PRIVATE.get(_this).resource = URL.createObjectURL(resource);\n        } else if (typeof _this.resource !== 'string') {\n          _PRIVATE.get(_this).__errorCB('Resource reference was expecting whether a Blob/File Object or a string reference to a valid video URL');\n        }\n      },\n      mergeConfig: function mergeConfig() {\n        Object.keys(_PRIVATE.get(_this).__configStack).forEach(function (key) {\n          if (key !== 'returnType') {\n            if (!Array.isArray(_PRIVATE.get(_this).__configStack[key])) throw new Error(key + ' was expecting an array to be its param');\n            if (_PRIVATE.get(_this).__configStack[key].map(function (each) {\n              return parseInt(each, 10);\n            }).some(function (each) {\n              return !Number.isInteger(each);\n            })) {\n              throw new Error(key + ' was expecting each of array item to be a number');\n            }\n          }\n          _PRIVATE.get(_this).__settings[key] = _PRIVATE.get(_this).__configStack[key];\n        });\n      },\n      __configStack: {},\n      __errorCB: function __errorCB() {},\n      __settings: {\n        xy: [0, 0],\n        size: [320, 240],\n        returnType: OBJECT_URL_TYPE,\n        skips: [0]\n      }\n    });\n  }\n\n  _createClass(VideoToThumb, [{\n    key: 'load',\n    value: function load() {\n      return this;\n    }\n\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'xy',\n    value: function xy() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];\n\n      _PRIVATE.get(this).__configStack.xy = val;\n      return this;\n    }\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'size',\n    value: function size() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [320, 240];\n\n      _PRIVATE.get(this).__configStack.size = val;\n      return this;\n    }\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'type',\n    value: function type() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : OBJECT_URL_TYPE;\n\n      _PRIVATE.get(this).__configStack.returnType = val;\n      return this;\n    }\n    /**\n     * @param {*} val\n     */\n\n  }, {\n    key: 'positions',\n    value: function positions() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0];\n\n      _PRIVATE.get(this).__configStack.skips = val;\n      return this;\n    }\n    /**\n     * @param {*} callback\n     */\n\n  }, {\n    key: 'error',\n    value: function error(callback) {\n      _PRIVATE.get(this).__errorCB = callback;\n      return this;\n    }\n    /**\n     * @param {*} successCB\n     * @param {*} errorCB\n     */\n\n  }, {\n    key: 'done',\n    value: function done(successCB) {\n      var _this2 = this;\n\n      try {\n        _PRIVATE.get(this).prepareURL();\n        _PRIVATE.get(this).mergeConfig();\n        var positions = [].concat(_toConsumableArray(_PRIVATE.get(this).__settings.skips));\n        var video = new _video2.default(_PRIVATE.get(this).resource);\n        video.initialize(_PRIVATE.get(this).__settings).then(function () {\n          if (!positions.length) return successCB([]);\n          var reverseOrder = function reverseOrder() {\n            positions.shift();\n            if (!positions.length) {\n              return successCB(video.thumbs.map(function (thumb) {\n                return _PRIVATE.get(_this2).__settings.returnType === OBJECT_URL_TYPE ? URL.createObjectURL(thumb) : thumb;\n              }));\n            }\n            return video.getSnaps(positions[0]).then(reverseOrder);\n          };\n          return video.getSnaps(positions[0]).then(reverseOrder);\n        }).catch(_PRIVATE.get(this).__errorCB);\n      } catch (err) {\n        _PRIVATE.get(this).__errorCB(err);\n      }\n      return this;\n    }\n  }]);\n\n  return VideoToThumb;\n}();\n\nwindow.VideoToThumb = VideoToThumb;\n\nexports.default = VideoToThumb;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvVmlkZW9Ub1RodW1iLmpzPzcyMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICd3ZWFrbWFwLXBvbHlmaWxsJztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAnZXM2LW9iamVjdC1hc3NpZ24nO1xuaW1wb3J0IFZpZGVvIGZyb20gJy4vdmlkZW8nO1xuXG5jb25zdCBfUFJJVkFURSA9IG5ldyBXZWFrTWFwKCk7XG5wb2x5ZmlsbCgpO1xuXG5jb25zdCBPQkpFQ1RfVVJMX1RZUEUgPSAnb2JqZWN0VVJMJztcblxuY2xhc3MgVmlkZW9Ub1RodW1iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gcmVzb3VyY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlc291cmNlKSB7XG4gICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xuICAgIF9QUklWQVRFLnNldCh0aGlzLCB7XG4gICAgICByZXNvdXJjZSxcbiAgICAgIHByZXBhcmVVUkw6ICgpID0+IHtcbiAgICAgICAgaWYgKEJsb2IgJiYgX1BSSVZBVEUuZ2V0KHRoaXMpLnJlc291cmNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgIF9QUklWQVRFLmdldCh0aGlzKS5yZXNvdXJjZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLnJlc291cmNlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIF9QUklWQVRFLmdldCh0aGlzKS5fX2Vycm9yQ0IoJ1Jlc291cmNlIHJlZmVyZW5jZSB3YXMgZXhwZWN0aW5nIHdoZXRoZXIgYSBCbG9iL0ZpbGUgT2JqZWN0IG9yIGEgc3RyaW5nIHJlZmVyZW5jZSB0byBhIHZhbGlkIHZpZGVvIFVSTCcpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbWVyZ2VDb25maWc6ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXMoX1BSSVZBVEUuZ2V0KHRoaXMpLl9fY29uZmlnU3RhY2spLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGlmIChrZXkgIT09ICdyZXR1cm5UeXBlJykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KF9QUklWQVRFLmdldCh0aGlzKS5fX2NvbmZpZ1N0YWNrW2tleV0pKSB0aHJvdyBuZXcgRXJyb3IoYCR7a2V5fSB3YXMgZXhwZWN0aW5nIGFuIGFycmF5IHRvIGJlIGl0cyBwYXJhbWApO1xuICAgICAgICAgICAgaWYgKF9QUklWQVRFLmdldCh0aGlzKS5fX2NvbmZpZ1N0YWNrW2tleV1cbiAgICAgICAgICAgICAgLm1hcChlYWNoID0+IHBhcnNlSW50KGVhY2gsIDEwKSkuc29tZShlYWNoID0+ICFOdW1iZXIuaXNJbnRlZ2VyKGVhY2gpKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7a2V5fSB3YXMgZXhwZWN0aW5nIGVhY2ggb2YgYXJyYXkgaXRlbSB0byBiZSBhIG51bWJlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBfUFJJVkFURS5nZXQodGhpcykuX19zZXR0aW5nc1trZXldID0gX1BSSVZBVEUuZ2V0KHRoaXMpLl9fY29uZmlnU3RhY2tba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgX19jb25maWdTdGFjazoge30sXG4gICAgICBfX2Vycm9yQ0I6ICgpID0+IHt9LFxuICAgICAgX19zZXR0aW5nczoge1xuICAgICAgICB4eTogWzAsIDBdLFxuICAgICAgICBzaXplOiBbMzIwLCAyNDBdLFxuICAgICAgICByZXR1cm5UeXBlOiBPQkpFQ1RfVVJMX1RZUEUsXG4gICAgICAgIHNraXBzOiBbMF0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbFxuICAgKi9cbiAgeHkodmFsID0gWzAsIDBdKSB7XG4gICAgX1BSSVZBVEUuZ2V0KHRoaXMpLl9fY29uZmlnU3RhY2sueHkgPSB2YWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gdmFsXG4gICAqL1xuICBzaXplKHZhbCA9IFszMjAsIDI0MF0pIHtcbiAgICBfUFJJVkFURS5nZXQodGhpcykuX19jb25maWdTdGFjay5zaXplID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbFxuICAgKi9cbiAgdHlwZSh2YWwgPSBPQkpFQ1RfVVJMX1RZUEUpIHtcbiAgICBfUFJJVkFURS5nZXQodGhpcykuX19jb25maWdTdGFjay5yZXR1cm5UeXBlID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbFxuICAgKi9cbiAgcG9zaXRpb25zKHZhbCA9IFswXSkge1xuICAgIF9QUklWQVRFLmdldCh0aGlzKS5fX2NvbmZpZ1N0YWNrLnNraXBzID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGNhbGxiYWNrXG4gICAqL1xuICBlcnJvcihjYWxsYmFjaykge1xuICAgIF9QUklWQVRFLmdldCh0aGlzKS5fX2Vycm9yQ0IgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHsqfSBzdWNjZXNzQ0JcbiAgICogQHBhcmFtIHsqfSBlcnJvckNCXG4gICAqL1xuICBkb25lKHN1Y2Nlc3NDQikge1xuICAgIHRyeSB7XG4gICAgICBfUFJJVkFURS5nZXQodGhpcykucHJlcGFyZVVSTCgpO1xuICAgICAgX1BSSVZBVEUuZ2V0KHRoaXMpLm1lcmdlQ29uZmlnKCk7XG4gICAgICBjb25zdCBwb3NpdGlvbnMgPSBbLi4uX1BSSVZBVEUuZ2V0KHRoaXMpLl9fc2V0dGluZ3Muc2tpcHNdO1xuICAgICAgY29uc3QgdmlkZW8gPSBuZXcgVmlkZW8oX1BSSVZBVEUuZ2V0KHRoaXMpLnJlc291cmNlKTtcbiAgICAgIHZpZGVvXG4gICAgICAgIC5pbml0aWFsaXplKF9QUklWQVRFLmdldCh0aGlzKS5fX3NldHRpbmdzKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKCFwb3NpdGlvbnMubGVuZ3RoKSByZXR1cm4gc3VjY2Vzc0NCKFtdKTtcbiAgICAgICAgICBjb25zdCByZXZlcnNlT3JkZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBwb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3VjY2Vzc0NCKHZpZGVvLnRodW1icy5tYXAodGh1bWIgPT4gKF9QUklWQVRFLmdldCh0aGlzKVxuICAgICAgICAgICAgICAgIC5fX3NldHRpbmdzLnJldHVyblR5cGUgPT09IE9CSkVDVF9VUkxfVFlQRSA/XG4gICAgICAgICAgICAgICAgVVJMLmNyZWF0ZU9iamVjdFVSTCh0aHVtYikgOiB0aHVtYikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2aWRlby5nZXRTbmFwcyhwb3NpdGlvbnNbMF0pXG4gICAgICAgICAgICAgIC50aGVuKHJldmVyc2VPcmRlcik7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gdmlkZW8uZ2V0U25hcHMocG9zaXRpb25zWzBdKS50aGVuKHJldmVyc2VPcmRlcik7XG4gICAgICAgIH0pLmNhdGNoKF9QUklWQVRFLmdldCh0aGlzKS5fX2Vycm9yQ0IpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX1BSSVZBVEUuZ2V0KHRoaXMpLl9fZXJyb3JDQihlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG53aW5kb3cuVmlkZW9Ub1RodW1iID0gVmlkZW9Ub1RodW1iO1xuXG5leHBvcnQgZGVmYXVsdCBWaWRlb1RvVGh1bWI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL1ZpZGVvVG9UaHVtYi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBdkJBO0FBOEJBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(n,e,t){t(0),n.exports=t(7)},function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {/*!\n * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill\n * https://github.com/polygonplanet/weakmap-polyfill\n * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>\n * @license MIT\n */\n\n(function(self) {\n  'use strict';\n\n  if (self.WeakMap) {\n    return;\n  }\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var defineProperty = function(object, name, value) {\n    if (Object.defineProperty) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  self.WeakMap = (function() {\n\n    // ECMA-262 23.3 WeakMap Objects\n    function WeakMap() {\n      if (this === void 0) {\n        throw new TypeError(\"Constructor WeakMap requires 'new'\");\n      }\n\n      defineProperty(this, '_id', genId('_WeakMap'));\n\n      // ECMA-262 23.3.1.1 WeakMap([iterable])\n      if (arguments.length > 0) {\n        // Currently, WeakMap `iterable` argument is not supported\n        throw new TypeError('WeakMap iterable is not supported');\n      }\n    }\n\n    // ECMA-262 23.3.3.2 WeakMap.prototype.delete(key)\n    defineProperty(WeakMap.prototype, 'delete', function(key) {\n      checkInstance(this, 'delete');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        delete key[this._id];\n        return true;\n      }\n\n      return false;\n    });\n\n    // ECMA-262 23.3.3.3 WeakMap.prototype.get(key)\n    defineProperty(WeakMap.prototype, 'get', function(key) {\n      checkInstance(this, 'get');\n\n      if (!isObject(key)) {\n        return void 0;\n      }\n\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        return entry[1];\n      }\n\n      return void 0;\n    });\n\n    // ECMA-262 23.3.3.4 WeakMap.prototype.has(key)\n    defineProperty(WeakMap.prototype, 'has', function(key) {\n      checkInstance(this, 'has');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        return true;\n      }\n\n      return false;\n    });\n\n    // ECMA-262 23.3.3.5 WeakMap.prototype.set(key, value)\n    defineProperty(WeakMap.prototype, 'set', function(key, value) {\n      checkInstance(this, 'set');\n\n      if (!isObject(key)) {\n        throw new TypeError('Invalid value used as weak map key');\n      }\n\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        entry[1] = value;\n        return this;\n      }\n\n      defineProperty(key, this._id, [key, value]);\n      return this;\n    });\n\n\n    function checkInstance(x, methodName) {\n      if (!isObject(x) || !hasOwnProperty.call(x, '_id')) {\n        throw new TypeError(\n          methodName + ' method called on incompatible receiver ' +\n          typeof x\n        );\n      }\n    }\n\n    function genId(prefix) {\n      return prefix + '_' + rand() + '.' + rand();\n    }\n\n    function rand() {\n      return Math.random().toString().substring(2);\n    }\n\n\n    defineProperty(WeakMap, '_polyfill', true);\n    return WeakMap;\n  })();\n\n\n  function isObject(x) {\n    return Object(x) === x;\n  }\n\n})(\n  typeof self !== 'undefined' ? self :\n  typeof window !== 'undefined' ? window :\n  typeof global !== 'undefined' ? global : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWFrbWFwLXBvbHlmaWxsL3dlYWttYXAtcG9seWZpbGwuanM/MjYxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIHdlYWttYXAtcG9seWZpbGwgdjIuMC4wIC0gRUNNQVNjcmlwdDYgV2Vha01hcCBwb2x5ZmlsbFxuICogaHR0cHM6Ly9naXRodWIuY29tL3BvbHlnb25wbGFuZXQvd2Vha21hcC1wb2x5ZmlsbFxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTYgcG9seWdvbiBwbGFuZXQgPHBvbHlnb24ucGxhbmV0LmFxdWFAZ21haWwuY29tPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLldlYWtNYXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbihvYmplY3QsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgc2VsZi5XZWFrTWFwID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gRUNNQS0yNjIgMjMuMyBXZWFrTWFwIE9iamVjdHNcbiAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgaWYgKHRoaXMgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgV2Vha01hcCByZXF1aXJlcyAnbmV3J1wiKTtcbiAgICAgIH1cblxuICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgJ19pZCcsIGdlbklkKCdfV2Vha01hcCcpKTtcblxuICAgICAgLy8gRUNNQS0yNjIgMjMuMy4xLjEgV2Vha01hcChbaXRlcmFibGVdKVxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEN1cnJlbnRseSwgV2Vha01hcCBgaXRlcmFibGVgIGFyZ3VtZW50IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignV2Vha01hcCBpdGVyYWJsZSBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2RlbGV0ZScsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnZGVsZXRlJyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICBkZWxldGUga2V5W3RoaXMuX2lkXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIEVDTUEtMjYyIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldChrZXkpXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdnZXQnLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2dldCcpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeVsxXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9KTtcblxuICAgIC8vIEVDTUEtMjYyIDIzLjMuMy40IFdlYWtNYXAucHJvdG90eXBlLmhhcyhrZXkpXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdoYXMnLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2hhcycpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBrZXlbdGhpcy5faWRdO1xuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIEVDTUEtMjYyIDIzLjMuMy41IFdlYWtNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKVxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnc2V0JywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnc2V0Jyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHZhbHVlIHVzZWQgYXMgd2VhayBtYXAga2V5Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICBlbnRyeVsxXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgZGVmaW5lUHJvcGVydHkoa2V5LCB0aGlzLl9pZCwgW2tleSwgdmFsdWVdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuXG5cbiAgICBmdW5jdGlvbiBjaGVja0luc3RhbmNlKHgsIG1ldGhvZE5hbWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QoeCkgfHwgIWhhc093blByb3BlcnR5LmNhbGwoeCwgJ19pZCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgbWV0aG9kTmFtZSArICcgbWV0aG9kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXIgJyArXG4gICAgICAgICAgdHlwZW9mIHhcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5JZChwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXggKyAnXycgKyByYW5kKCkgKyAnLicgKyByYW5kKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZCgpIHtcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpO1xuICAgIH1cblxuXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcCwgJ19wb2x5ZmlsbCcsIHRydWUpO1xuICAgIHJldHVybiBXZWFrTWFwO1xuICB9KSgpO1xuXG5cbiAgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiBPYmplY3QoeCkgPT09IHg7XG4gIH1cblxufSkoXG4gIHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOlxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6XG4gIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdGhpc1xuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3dlYWttYXAtcG9seWZpbGwvd2Vha21hcC1wb2x5ZmlsbC5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},function(module,exports){eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/MzY5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval("/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lczYtb2JqZWN0LWFzc2lnbi9pbmRleC5qcz9lOTE0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29kZSByZWZhY3RvcmVkIGZyb20gTW96aWxsYSBEZXZlbG9wZXIgTmV0d29yazpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIGZpcnN0U291cmNlKSB7XG4gIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBmaXJzdCBhcmd1bWVudCB0byBvYmplY3QnKTtcbiAgfVxuXG4gIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGlmIChuZXh0U291cmNlID09PSB1bmRlZmluZWQgfHwgbmV4dFNvdXJjZSA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGtleXNBcnJheSA9IE9iamVjdC5rZXlzKE9iamVjdChuZXh0U291cmNlKSk7XG4gICAgZm9yICh2YXIgbmV4dEluZGV4ID0gMCwgbGVuID0ga2V5c0FycmF5Lmxlbmd0aDsgbmV4dEluZGV4IDwgbGVuOyBuZXh0SW5kZXgrKykge1xuICAgICAgdmFyIG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuZXh0U291cmNlLCBuZXh0S2V5KTtcbiAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuXG5mdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwgJ2Fzc2lnbicsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogYXNzaWduXG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFzc2lnbjogYXNzaWduLFxuICBwb2x5ZmlsbDogcG9seWZpbGxcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9lczYtb2JqZWN0LWFzc2lnbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _canvas = __webpack_require__(6);\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Video = function () {\n  function Video(uri) {\n    _classCallCheck(this, Video);\n\n    this.node = document.createElement('video');\n    this.node.setAttribute('src', uri);\n    this.node.setAttribute('muted', true);\n    this.node.setAttribute('controls', true);\n    this.node.style.display = 'none';\n    this.node.width = 320;\n    this.thumbs = [];\n  }\n\n  _createClass(Video, [{\n    key: 'initialize',\n    value: function initialize(configs) {\n      var _this = this;\n\n      var _configs$size = _slicedToArray(configs.size, 2);\n\n      this.node.width = _configs$size[0];\n      this.node.height = _configs$size[1];\n\n      this.configs = configs;\n      return new Promise(function (resolve, reject) {\n        var MediaError = function MediaError(event) {\n          var err = {\n            type: 'media_' + event.type,\n            error: event\n          };\n          reject(err);\n        };\n\n        _this.node.addEventListener('error', MediaError);\n        _this.node.addEventListener('abort', MediaError);\n\n        _this.node.addEventListener('canplaythrough', function () {\n          _this.node.removeEventListener('error', MediaError);\n          _this.node.removeEventListener('abort', MediaError);\n          resolve();\n        });\n      });\n    }\n  }, {\n    key: 'getSnaps',\n    value: function getSnaps() {\n      var _this2 = this;\n\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      return new Promise(function (resolve, reject) {\n        if (position > _this2.node.duration) return resolve();\n        var onMediaError = function onMediaError(event) {\n          var err = {\n            type: 'media_' + event.type,\n            error: event\n          };\n          reject(err);\n        };\n        _this2.node.addEventListener('suspend', onMediaError);\n        _this2.node.addEventListener('abort', onMediaError);\n        var onSeeked = function onSeeked() {\n          _this2.node.removeEventListener('suspend', onMediaError);\n          _this2.node.removeEventListener('abort', onMediaError);\n          _this2.node.removeEventListener('seeked', onSeeked);\n          _canvas2.default.capture(_this2.node, _this2.configs).then(function (data) {\n            _this2.thumbs.push(data);\n            resolve();\n          }).catch(reject);\n        };\n        _this2.node.addEventListener('seeked', onSeeked);\n        _this2.node.currentTime = Number(position);\n        return null;\n      });\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      return this.node.remove();\n    }\n  }]);\n\n  return Video;\n}();\n\nexports.default = Video;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdmlkZW8uanM/YjIwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FudmFzIGZyb20gJy4vY2FudmFzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlkZW8ge1xuICBjb25zdHJ1Y3Rvcih1cmkpIHtcbiAgICB0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVyaSk7XG4gICAgdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCB0cnVlKTtcbiAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCdjb250cm9scycsIHRydWUpO1xuICAgIHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMubm9kZS53aWR0aCA9IDMyMDtcbiAgICB0aGlzLnRodW1icyA9IFtdO1xuICB9XG5cbiAgaW5pdGlhbGl6ZShjb25maWdzKSB7XG4gICAgW3RoaXMubm9kZS53aWR0aCwgdGhpcy5ub2RlLmhlaWdodF0gPSBjb25maWdzLnNpemU7XG4gICAgdGhpcy5jb25maWdzID0gY29uZmlncztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgTWVkaWFFcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBlcnIgPSB7XG4gICAgICAgICAgdHlwZTogYG1lZGlhXyR7ZXZlbnQudHlwZX1gLFxuICAgICAgICAgIGVycm9yOiBldmVudCxcbiAgICAgICAgfTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBNZWRpYUVycm9yKTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIE1lZGlhRXJyb3IpO1xuXG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIE1lZGlhRXJyb3IpO1xuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBNZWRpYUVycm9yKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRTbmFwcyhwb3NpdGlvbiA9IDEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9uID4gdGhpcy5ub2RlLmR1cmF0aW9uKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgY29uc3Qgb25NZWRpYUVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVyciA9IHtcbiAgICAgICAgICB0eXBlOiBgbWVkaWFfJHtldmVudC50eXBlfWAsXG4gICAgICAgICAgZXJyb3I6IGV2ZW50LFxuICAgICAgICB9O1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH07XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignc3VzcGVuZCcsIG9uTWVkaWFFcnJvcik7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbk1lZGlhRXJyb3IpO1xuICAgICAgY29uc3Qgb25TZWVrZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdXNwZW5kJywgb25NZWRpYUVycm9yKTtcbiAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25NZWRpYUVycm9yKTtcbiAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsIG9uU2Vla2VkKTtcbiAgICAgICAgQ2FudmFzLmNhcHR1cmUodGhpcy5ub2RlLCB0aGlzLmNvbmZpZ3MpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICB0aGlzLnRodW1icy5wdXNoKGRhdGEpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH07XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgb25TZWVrZWQpO1xuICAgICAgdGhpcy5ub2RlLmN1cnJlbnRUaW1lID0gTnVtYmVyKHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlLnJlbW92ZSgpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3ZpZGVvLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQS9EQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar singleton = Symbol();\nvar singletonEnforcer = Symbol();\n\nvar OBJECT_URL_TYPE = 'objectURL';\nvar DATA_URL_TYPE = 'base64';\n\nvar Canvas = function () {\n  function Canvas(enforcer) {\n    _classCallCheck(this, Canvas);\n\n    if (enforcer !== singletonEnforcer) throw new Error('Cannot construct singleton');\n    this.node = document.createElement('canvas');\n  }\n\n  _createClass(Canvas, [{\n    key: 'capture',\n    value: function capture(videoNode, configs) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var w = configs.size[0];\n        var h = configs.size[1];\n        var x = configs.xy[0];\n        var y = configs.xy[1];\n        _this.node.width = w;\n        _this.node.height = h;\n        _this.node.getContext('2d').drawImage(videoNode, x, y, w, h);\n        if (configs.returnType === OBJECT_URL_TYPE) {\n          _this.node.toBlob(function (blob) {\n            return resolve(blob);\n          });\n        } else if (configs.returnType === DATA_URL_TYPE) {\n          resolve(_this.node.toDataURL());\n        } else {\n          var err = {\n            type: 'Canvas_Error',\n            message: 'type must be between ' + OBJECT_URL_TYPE + ' or ' + DATA_URL_TYPE + ' but found ' + configs.returnType\n          };\n          reject(err);\n        }\n      });\n    }\n  }], [{\n    key: 'instance',\n    get: function get() {\n      if (!this[singleton]) {\n        this[singleton] = new Canvas(singletonEnforcer);\n      }\n      return this[singleton];\n    }\n  }]);\n\n  return Canvas;\n}();\n\nexports.default = Canvas.instance;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY2FudmFzLmpzPzYxNGIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2luZ2xldG9uID0gU3ltYm9sKCk7XG5jb25zdCBzaW5nbGV0b25FbmZvcmNlciA9IFN5bWJvbCgpO1xuXG5jb25zdCBPQkpFQ1RfVVJMX1RZUEUgPSAnb2JqZWN0VVJMJztcbmNvbnN0IERBVEFfVVJMX1RZUEUgPSAnYmFzZTY0JztcblxuY2xhc3MgQ2FudmFzIHtcbiAgY29uc3RydWN0b3IoZW5mb3JjZXIpIHtcbiAgICBpZiAoZW5mb3JjZXIgIT09IHNpbmdsZXRvbkVuZm9yY2VyKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3Qgc2luZ2xldG9uJyk7XG4gICAgdGhpcy5ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgIGlmICghdGhpc1tzaW5nbGV0b25dKSB7XG4gICAgICB0aGlzW3NpbmdsZXRvbl0gPSBuZXcgQ2FudmFzKHNpbmdsZXRvbkVuZm9yY2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbc2luZ2xldG9uXTtcbiAgfVxuXG4gIGNhcHR1cmUodmlkZW9Ob2RlLCBjb25maWdzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHcgPSBjb25maWdzLnNpemVbMF07XG4gICAgICBjb25zdCBoID0gY29uZmlncy5zaXplWzFdO1xuICAgICAgY29uc3QgeCA9IGNvbmZpZ3MueHlbMF07XG4gICAgICBjb25zdCB5ID0gY29uZmlncy54eVsxXTtcbiAgICAgIHRoaXMubm9kZS53aWR0aCA9IHc7XG4gICAgICB0aGlzLm5vZGUuaGVpZ2h0ID0gaDtcbiAgICAgIHRoaXMubm9kZS5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh2aWRlb05vZGUsIHgsIHksIHcsIGgpO1xuICAgICAgaWYgKGNvbmZpZ3MucmV0dXJuVHlwZSA9PT0gT0JKRUNUX1VSTF9UWVBFKSB7XG4gICAgICAgIHRoaXMubm9kZS50b0Jsb2IoYmxvYiA9PiByZXNvbHZlKGJsb2IpKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlncy5yZXR1cm5UeXBlID09PSBEQVRBX1VSTF9UWVBFKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5ub2RlLnRvRGF0YVVSTCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVyciA9IHtcbiAgICAgICAgICB0eXBlOiAnQ2FudmFzX0Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiBgdHlwZSBtdXN0IGJlIGJldHdlZW4gJHtPQkpFQ1RfVVJMX1RZUEV9IG9yICR7REFUQV9VUkxfVFlQRX0gYnV0IGZvdW5kICR7Y29uZmlncy5yZXR1cm5UeXBlfWAsXG4gICAgICAgIH07XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhcy5pbnN0YW5jZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvY2FudmFzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBMEJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _VideoToThumb = __webpack_require__(0);\n\nvar _VideoToThumb2 = _interopRequireDefault(_VideoToThumb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _VideoToThumb2.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmlkZW9Ub1RodW1iIGZyb20gJy4vVmlkZW9Ub1RodW1iJztcblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9Ub1RodW1iO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9pbmRleC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')}])});